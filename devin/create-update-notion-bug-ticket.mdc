---
description: 
globs: 
alwaysApply: false
---
あなたがNotionの不具合チケット（Bug Ticket）を作成するよう依頼されたときは以下の手順で作成してください。

# 不具合チケットの構成
不具合チケットは、以下のデータベースに保存されます。
https://www.notion.so/conciergeu/3425d58afd934e059af8a6f577481dcf?v=8e526d004600456eb1ca6deb8a6112ba

各チケットのプロパティのうち作成・更新する際に記入するのは以下のプロパティです。
* Type: Bugを選択してください。
* Deadline: 依頼者から指定があれば記入してください。なければ空白のままで。
* Priority: P1:Mediumを指定してください。
* トゥーシーさん担当: チェックを入れてください。これによりTSチームがこのチケットをチェックできます。
* analysis target: チェックを入れてください。
* Software bug: Yesを入れてください。
* Status: 0.Backlogでを入れてください。
* 温度感ラベル: 依頼者から指定があれば「温度感高め」を入れてください。なければ「普通」を入れてください。
* Client: 依頼者から指定があれば、顧客名を入れてください。なければ空白で。
* Dev Ticket: 後述します。

また、本文には不具合の内容が記述されます。

# プロパティDev Ticketについて
Dev Ticketは、この不具合チケットを実施するためのエンジニアのためのタスクチケットです。このチケットが存在しない場合は、新規作成する必要があります。
依頼者に確認を取った上で「create notion task ticket」のルールにしたがって作成してください。
作成した場合は、本不具合チケットに改めて紐づける必要があります。
以下の不具合チケットの更新手順に従って紐付けを行なってください。

# 不具合チケットの新規作成手順
以下のCurlの例を参考にして作成してください。

```
curl -X POST "https://api.notion.com/v1/pages" \
  -H "Authorization: Bearer <YOUR_NOTION_API_KEY>" \
  -H "Content-Type: application/json" \
  -H "Notion-Version: 2022-06-28" \
  -d '{
    "parent": { "database_id": "3425d58a-fd93-4e05-9af8-a6f577481dcf" },
    "properties": {
      "Type": { "select": { "name": "Bug" } },
      "Deadline": { "date": { "start": "2025-03-31" } },
      "Priority": { "select": { "name": "P1: Medium" } },
      "トゥーシーさん担当": { "checkbox": true },
      "analysis target": { "checkbox": true },
      "Software bug": { "select": { "name": "Yes" } },
      "Status": { "select": { "name": "0.Backlog" } },
      "温度感ラベル": { "select": { "name": "普通" } },
      "Client": { "rich_text": [] },
      "Title": {
        "title": [
          { "text": { "content": "[言語切り替え]の際、日本語→英語（他言語）→日本語に再度設定したときに、言語が日本語に戻らない。" } }
        ]
      }
    },
    "children": [
      {
        "object": "block",
        "type": "paragraph",
        "paragraph": {
          "rich_text": [
            {
              "type": "text",
              "text": {
                "content": "日本語→英語（他言語）→日本語に再度設定したときに、言語が日本語に戻らない現象が発生します。\n再現手順:\n1. 言語設定を日本語から英語に変更\n2. 再度日本語に戻す\n3. 一部のテキストが日本語に戻らない"
              }
            }
          ]
        }
      }
    ]
  }'
```

# 不具合チケットの更新手順
以下のCurlの例を参考にして更新してください。
```
curl -X PATCH "https://api.notion.com/v1/pages/1c1eee4fd5028069ab32c8f7a5eae857" \
  -H "Authorization: Bearer <YOUR_NOTION_API_KEY>" \
  -H "Content-Type: application/json" \
  -H "Notion-Version: 2022-06-28" \
  -d '{
    "properties": {
      "Type": { "select": { "name": "Bug" } },
      "Deadline": { "date": { "start": "2025-03-31" } },
      "Priority": { "select": { "name": "P1: Medium" } },
      "トゥーシーさん担当": { "checkbox": true },
      "analysis target": { "checkbox": true },
      "Software bug": { "select": { "name": "Yes" } },
      "Status": { "select": { "name": "0.Backlog" } },
      "温度感ラベル": { "select": { "name": "普通" } },
      "Client": { "rich_text": [] },
      "Dev Ticket": { "url": "https://www.notion.so/conciergeu/When-you-change-language-variable-back-to-Japanese-it-won-t-be-applied-for-the-text-on-intent-butt-1c1eee4fd50280f4a843f7e7498b5818" },
      "Title": {
        "title": [
          { "text": { "content": "[言語切り替え]の際、日本語→英語（他言語）→日本語に再度設定したときに、言語が日本語に戻らない。" } }
        ]
      }
    }
  }'
  ```
